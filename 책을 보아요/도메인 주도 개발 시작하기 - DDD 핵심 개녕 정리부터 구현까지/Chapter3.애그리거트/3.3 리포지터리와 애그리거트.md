# 3.3 리포지터리와 애그리거트
```
애그리거트 : 개념상 완전한 한 개의 도메인 모델을 표현
리포지터리 : 애그리거트 단위로 객체의 영속성을 처리
```
- 리포지터리를 어떤 기술로 구현하냐에 따라 애그리거트 구현에 영향을 줄 수 있음.
    - JPA 를 사용한다면 벨류 타입에 `@Component` 가 아닌 `@Entity` 를 붙여야 할 수도 있음.
- 리포지터리는 애그리거트를 저장할 때, 애그리거트와 관련된 테이블에 모두 저장해야함.
- 리포지터리는 애그리거트를 제공할 때, 완전한 애그리거트를 제공해야함.
- 애그리거트가 변경되면, 원자적으로 변경을 저장해야함.