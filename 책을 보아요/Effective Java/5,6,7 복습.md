컴퓨터가 진행하는 일 하나를 프로세스라고함.
우리가 쓰고 있는 컴퓨터에서 여러 프로그램을 실행해도 잘 돌아가는 이유는 멀티 프로세싱이 되기 때문.

그전까지는 어떤 다운로드 진행이 일어나면 다른 작업은 못했음.

동시적, 병렬적 혹은 이 둘로
동시성은 프로세서 하나가 이거 조금 저거 조금하고 여러 작업을 돌아가면서 일부분씩 진행(이런걸  context switing) .
이 컨텍스트 스위칭에 여러 방식과 알고리즘이 쓰임.

그래서 이게 뭔ㄱ ㅏ동시에 진행되는 것처럼 보임.

병렬성은 프로세스하나에 코어 여러개가 달려서 각각 동시에 작업하는거

듀얼,쿼드,옥타 코어 암튼 컬티 코어 프로세스가 가능한 방식.

코어를 여러개 달아서 여러 작업을 분담.

근데 이걸로 충분할까?

한 프로세스 안에도 여러 갈래의 작업들이 동시에 진행되어야 함. 이 갈래를 스레드라고 함.

프로세서는 요리사. 대량 주문들 계속 들어오고
계속 ㅁ나들어내는거가 프로세스.

컴퓬터는 프로세스마다 자원을 분할

프로세스는 컴퓨터의 자원을 분할해서 사용하지만
스레드는 프로세스마다 주어진 전체자원을 함께 사용함.

공유되는 변수에 스레드 두 개가 동시에 손을 댄다면 error

스레드를 사용하는 프로그래밍은 그래서 까다로움.

그래서 이를 더 쉽고 안전하게 하는 도구나 프로그래밍 방식이 있음.
(크로저, 람다, 액터, 함수형 프로그래밍)

자바에서는 장치로 싱크로나이즈드가 있는거고. 한 스레드만 접근하게.


cpu에서 코어는 물리적 연산을 담당하는 곳

스레드는 운여에제에 인식하고 작동하는 작업 단위

원래 코어 하나당 스레드가 하나였음
코어의 효율 높이기 위해 코어 하나에 두개의 스레드를 사용.

코어는 요리사. 화구가 스레드

원래는 코어 개수만 늘리려고 했는데, 그게 힘들어지다보니 스레드 수를 늘려서 cpu 성능을 높이게 됨.

클러ㅕㄱ?
코어 하나당 일의 처리 속소

무작정 높으면 좋을까..? 하지만 발열 등 관리할거가 많아서.
코어가 적은 cpu일때 클럭수가 좀 더 높음.

..
JVM은 하나의 프로세스에서 동작한다.

하나의 JVM 은 멀티 core 를 사용할 수 있는가?

JVM 은 하나의 프로세스에서 동작하는 것이 맞다.
해당 JVM 에서 스레드를 생성해 사용할 때는 OS 의 스레드를 사용함.
OS 는 OS 스레드를 스케줄링하는 책임이 있다.
이 OS 의 스레드는 다른 multi core 에 있으며, 결국 하나의 JVM 에서 멀티 코어를 사용할 수 있다.

## 1개 프로세스 멀티 쓰레드 vs 멀티 프로세스 정리

1개의 프로세스 멀티 쓰레드가 이론적으로 더 속도가 나올 것이라 생각되지만 막상 벤치마킹 하면 속도차이가 얼마 안난다.

스레드 간 문맥교환이 프로세스 간 문맥교환 보다 적은 비용이지만 실제 성능은 비슷하다.


멀티 쓰레드는 사용하기 어렵다. 스레드 간 자원 공유를 고려하며, 프로그래밍 해야하기 때문
배치 같은 프로그램에서는 멀티 프로세스를 사용해서 프로그램을 돌리는게 더 낫다고 생각한다.

reference
https://insanelysimple.tistory.com/226
https://www.quora.com/Does-JVM-use-multiple-cores
https://stackoverflow.com/questions/34689709/java-threads-and-number-of-cores
https://www.guru99.com/difference-between-multiprocessing-and-multithreading.html
출처: https://insanelysimple.tistory.com/226 [Simple is best:티스토리]

# 방학 숙제
https://letsmakemyselfprogrammer.tistory.com/98


https://github.com/MangKyu/stream-quiz