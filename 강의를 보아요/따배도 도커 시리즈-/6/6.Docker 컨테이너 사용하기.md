# docker ì£¼ìš” ëª…ë ¹ì–´

## image
```sh
# image ê²€ìƒ‰
docker search

# image ë‹¤ìš´ë¡œë“œ
docker pull
# ì˜ˆì‹œ
docker pull nginx # íƒœê·¸ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ latest

# ë‹¤ìš´ë°›ì€ image ëª©ë¡
docker images

# image ì‚­ì œ
docker rmi
```

```
ğŸ‘‰ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ì— ì—¬ëŸ¬ íƒœê·¸ë¥¼ ë‹¬ ìˆ˜ ìˆìŒ.
docker build -t xxx:1 -t xxx:2 .
ì´ë¯¸ì§€ëŠ” ê°™ì§€ë§Œ repository, tag ê°€ ë‹¤ë¦„.
```

## container
```sh
# ì´ë¯¸ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±
docker create
# ì˜ˆì‹œ
docker create --name webserver nginx:1.14 # ê¸°ë³¸ì ìœ¼ë¡œ background ì—ì„œ ì‹¤í–‰

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker start

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker stop

# ì»¨í…Œì´ë„ˆ ì‚­ì œ
docker rm

# ì»¨í…Œì´ë„ˆì— ëª…ë ¹ì–´ ì‹¤í–‰
docker exec

# ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸
docker logs

# ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
docker top

# í¬ê·¸ë¼ìš´ë“œ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°
docker attach
```
- docker run ì€ pull + create + start

```
ğŸ‘‰ foreground ì‹¤í–‰
í„°ë¯¸ë„ ì„¸ì…˜ì„ ì°¨ì§€í•˜ê³ , í‘œì¤€ ì…ë ¥/ì¶œë ¥(stdin, stdout, stderr)ì´ ì§ì ‘ ì—°ê²°ëœ ìƒíƒœì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒ

ì»¨í…Œì´ë„ˆëŠ” PID 1(ë©”ì¸ í”„ë¡œì„¸ìŠ¤)ì— ì¢…ì†ì ì„.
```

## ê´€ë¦¬
```bash
# ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ëª©ë¡ í™•ì¸
docker ps

# Docker object ìƒì„¸ë³´ê¸°
docker inspect
# ì˜ˆì‹œ
docker inspect --format '{{.NetworkSettings.IPAddress}}' webserver
```

```
ğŸ‘‰ ëª…ë ¹ì–´ ë³„ì¹­ ì„¤ì • : alias ì»¤ë§¨ë“œ
# ì„¤ì •
alias cip="docker inspect --format '{{.NetworkSettings.IPAddress}}'"

# ì‚¬ìš©
cip webserver
```

# ì‹¤ìŠµ
```bash
# nginx ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì»¨í…Œì´ë„ˆ ìƒì„±/ì‹¤í–‰
docker pull nginx
docker create --name webserver nginx
docker start webserver

# ğŸ”¥ docker create/run
docker run -d -p 80:80 --name webserver nginx
=
(docker pull nginx)
docker create -p 80:80 --name webserver nginx
docker start webserver

# ğŸ”¥ cip webserver ë¡œ ë‚˜ì˜¨ address ë¡œ curl ì´ ì•ˆëœë‹¤!
# Couldn't connect to server

# ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
docker top webserver

# bash ì‹¤í–‰í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì ‘ì†
docker exec -it webserver /bin/bash
# -i : interactive. STDIN ì„ ì—´ì–´ë‘”ì±„ë¡œ ìœ ì§€
# -t : pseudo TTY (ê°€ìƒ í„°ë¯¸ë„) í• ë‹¹)
```